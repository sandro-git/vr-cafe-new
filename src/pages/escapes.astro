---
// Welcome to Astro! Everything between these triple-dash code fences
// is your "component frontmatter". It never runs in the browser.
//components
import GameList from "../components/GameList.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import GamesLayout from "../layouts/GamesLayout.astro";

import { sanityClient } from "sanity:client";

const escapes = await sanityClient.fetch(`*[_type == "games"] 
{
  description,
 tag -> {title},
    editeur -> {name},
    name,
    slug,
   image {
    alt,
     asset -> {url}
   }
}`);
---

<BaseLayout>
  <GamesLayout>
    <GameList experiences={escapes} />
  </GamesLayout>
</BaseLayout>
